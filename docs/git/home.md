## 시작하기

Git이란 소스코드를 효과적으로 관리하기 위해 개발된 '분산형 버전 관리 시스템'이다. 
원래는 Linux 소스코드를 관리할 목적으로 개발되었다.

Git에서는 소스코드가 변경된 이력을 쉽게 확인할 수 있고, 특정 시점에 저장된 버전과 비교하거나 특정 시점으로 되돌아갈 수도 있다.

## 이력(History)을 관리하는 저장소

저장소(Repository)란 말 그대로 파일이나 폴더를 저장해 두는 곳이다.
Git 저장소가 제공하는 좋은 점 중 하나는 파일이 변경 이력별로 구분되어 저장된다는 점이다.

### 원격 저장소와 로컬 저장소

- 원격 저장소(Remote Repository)
    - 파일이 원격 저장소 전용 서버에서 관리되며 여러 사람이 함께 공유하기 위한 저장소이다.
- 로컬 저장소(Local Repository)
    - 내 PC에 파일이 저장되는 개인 전용 저장소이다.

### 저장소 만들기

내 컴퓨터에 로컬 저장소를 만드는 방법은 두 가지이다.

1. 새로운 저장소를 생성
1. 이미 만들어져 있는 원격 저장소를 로컬 저장소로 복사

## 변경을 기록하는 커밋(Commit)

커밋(Commit)은 시간순으로 저장된다. 최근 커밋부터 거술러 올라가면 과거 변경 이력과 내용을 알 수 있다.

각 커밋에는 영문/숫자로 이루어진 40자리 고유 이름이 붙는다. 저장소에서는 이 40자리 이름을 보고 각 커밋을 구분하고 선택한다.

!!! note 
    버그 수정, 기능 추가 등 특별한 의미가 있는 업데이트를 작업 별로 구분해서 각각 커밋하면, 나중에 이력을 보고 특정 변경 내용을 찾기 쉽다.

커밋은 이렇게 이력을 남기는 중요한 작업이기 때문에 커밋 메시지를 필수로 입력해야 한다.
메시지가 없으면 커밋이 실행되지 않는다.

!!! note 
    메시지는 명료하고 이해하기 쉽게 남겨야 본인 뿐만 아니라 다른 사람이 커밋 이력을 확인하기 쉽다.
    Git에서 권장하는 메시지 형식을 따르는 것도 좋다.
    ```
    1번째 줄 : 커밋 내용의 변경 내용을 요약
    2번째 줄 : 빈 줄
    3번째 줄 : 변경한 이유 및 세부 내용
    ```

## 작업 트리(Work Tree)와 인덱스(Index)

Git에서는 우리가 흔히 말하는 폴더를 '작업 트리(Work Tree)'라고 부른다.
그리고 커밋을 실행하기 전의 저장소와 작업 트리 사이에 존재하는 공간을 '인덱스(Index)'라고 한다.

커밋이 실제로 동작할 땐, Work Tree에 있는 변경 내용을 저장소에 바로 기록하는 것이 아니라 그 사이 공간인 인덱스에 파일 상태를 기록하게 되어 있다.
인덱스에 파일 상태를 기록하는 것을 스테이징^Staging^이라 부른다.
따라서 저장소에 변경 사항을 기록할 때는 기록하고자 하는 모든 변경 사항들이 인덱스에 존재해야 한다.

10개의 파일을 수정했지만 7개만 저장소에 commit하고 싶다면, 해당 7개의 파일을 선택하는 작업이 스테이징 과정이다.
이렇게 인덱스가 중간에 있는 덕분에 작업 트리 안에 있는 커밋이 필요 없는 파일들을 포함하지 않도록 조절할 수 있고, 원하는 일부 변경 사항만 인덱스에 등록해 커밋할 수 있다.

인덱스에 파일 상태를 기록하는 것을 Staging이라고 부르기 때문에, 인덱스는 Staging Area라고도 부른다.

## 3가지 상태

이 부분은 중요하기에 집중해서 읽어야 한다.
Git을 공부하기 위해 반드시 짚고 넘어가야 할 부분이다.
Git은 파일을 Committed, Modified, Staged 이렇게 3가지 상태로 관리한다.

- Committed란 데이터가 로컬 데이터베이스에 안전하게 저장됐다는 것을 의미한다.
- Modified는 수정한 파일을 아직 로컬 데이터베이스에 커밋하지 않은 것을 말한다.
- Staged란 현재 수정한 파일을 곧 커밋할 것이라고 표시한 상태를 의미한다.

이 3가지 상태는 Git 프로젝트의 세 가지 단계와 연결돼 있다. 
Git 디렉토리, 작업 트리, Staging Area 이렇게 세 가지 단계를 이해하고 넘어가자

``` mermaid
sequenceDiagram
    participant Working as Working Directory
    participant Staging as Staging Area
    participant Repository as .git directory

    Repository ->> Working: Checkout the project
    Working ->> Staging: Stage Fixes
    Staging ->> Repository: Commit
```

## REFERENCE

- [[Git] 작업 트리와 인덱스](https://planbs.tistory.com/entry/Git-%EC%9E%91%EC%97%85-%ED%8A%B8%EB%A6%AC%EC%99%80-%EC%9D%B8%EB%8D%B1%EC%8A%A4)
- [시작하기 - Git 기초](https://git-scm.com/book/ko/v2/%EC%8B%9C%EC%9E%91%ED%95%98%EA%B8%B0-Git-%EA%B8%B0%EC%B4%88)